@page
@model MyApp.Namespace.ObjectModel
@{
}
<head>
    <title>Table4U | @Model.lokal.Naziv</title>
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/build/ol.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/css/ol.css">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--flex slider-->
    <script defer src="js/jquery.flexslider.js"></script>
    <link rel="stylesheet" href="css/flexslider.css" type="text/css" media="screen" />
    <script>
	    // Can also be used with $(document).ready()
	    $(window).load(function() {
	        $('.flexslider').flexslider({
		        animation: "slide",
		        controlNav: "thumbnails"
	        });
	    });
    </script>
    <!--flex slider-->

<script src="js/imagezoom.js"></script>
</head>
<div class="container1">
    <div class="naziv-objekta">@Model.lokal.Naziv</div>
    <div class="gornji-deo">
        <div class="slika-opis">
            <div>
                <img class="slika" src="@Model.lokal.nazivSlike">
            </div>
            <div class="info">
                <div class="informacije">Info</div>
                <div class="infos">
                    <div class="imenaInfo">
                        <div class="info1">Type:</div>
                        <div class="info2">Rating:</div>
                        <div class="info3">Open Time:</div>
                        <div class="info4">Close Time:</div>
                        <div class="info5">Contact:</div>
                        <div class="info6">Description:</div>
                    </div>
                    <div class="vrInfo">
                        <div class="iinfo1">@Model.lokal.Tip</div>
                        <div class="iinfo2">@Model.lokal.Ocena (@Model.lokal.brOcena)</div>
                        <div class="iinfo3">@Model.lokal.openTime.ToString("h tt")</div>
                        <div class="iinfo4">@Model.lokal.closeTime.ToString("h tt")</div>
                        <div class="iinfo5">@Model.lokal.email</div>
                        <div class="iinfo6">@Model.lokal.opis</div>
                    </div>
                </div>
                <div id="Prikazi1">
                    <button id="Prikazi" onclick="showCal()">Show calendar</button>
                    <label class="labelPomoc">Click here if You wanna grab a Table4U</label>
                </div>
                <button id="Sakrij" style="display:none;" onclick="hideCal()">Hide calendar</button>
            </div>
        </div>
        <div id="Glavni" style="display:none;">
            <div class="instrukcije">
                <div class="instrTekst">Instructions for reserving:</div>
                <div class="instr1">Step1: Choose Your date by clicking on a date in calendar(or manually, selecting the checkbox).</div>
                <div class="instr2">Step2: Choose number of seats You need.</div>
                <div class="instr3">Step3: Choose Your time.</div>
                <div class="instr4">Step4: Click on Reserve.</div>
            </div>
            <div class="kalendar">
                <div class="container2 col-sm-4 col-md-7 col-lg-4 mt-5">
                    <div class="card">
                        <h3 class="card-header" id="monthAndYear"></h3>
                        <table class="table table-bordered table-responsive-sm" id="calendar">
                            <thead>
                                <tr>
                                    <th>Sun</th>
                                    <th>Mon</th>
                                    <th>Tue</th>
                                    <th>Wed</th> 
                                    <th>Thu</th>
                                    <th>Fri</th>
                                    <th>Sat</th>
                                </tr>
                            </thead>
                            <tbody id="calendar-body"></tbody>
                        </table>
                        <div class="form-inline">
                            <button class="dugme_u_tabeli col-sm-6" id="next" onclick="next()">Next</button>
                            <button class="dugme_u_tabeli col-sm-6" id="previous" onclick="previous()">Previous</button>                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="rezervacija-forma" id="Forma" style="display:none;">
            <div class="prvi-red-rez">
                <div class="datumTekst">Date: </div>
                <input type="checkbox" id="checkForma" name="checkForma">
                <label for="checkForma" class="rucno">Select manually</label>
                <div id="datum">
                    <select id="godina" disabled="true"></select>
                    <select id="mesec" disabled="true"></select>
                    <select id="dan" disabled="true"></select>
                </div>
            </div>
            <div class="rez-podaci">
                <div class="specTekst">Specifications: </div>
                <select id="brMesta" onchange="">
                    <option>Num. of seats</option>
                    @for (int i = 0; i < Model.listabrMesta.Count; i++)
                    {
                        <option id="@i">@Model.listabrMesta[i]</option>
                    }
                </select>
                <select id="slobodniTermini"> 
                    <option>Time</option>
                </select>
            </div>
            <div class="dugme-rez">
                <button class="btnRez">Reserve</button>
            </div>
        </div>
        <input id = "lat" type="hidden" value="@Model.lokal.latitude">
        <input id = "lng" type="hidden" value="@Model.lokal.longitude">
    </div>
    <div class="srednji-deo">
        <div class="galerija">Gallery</div>
        <div class="kontejner1">
            <div class="boks">
                <img src="images/restaurent-logo2.jpg">
                <!--<span>Enterier</span>-->
            </div>
            <div class="boks">
                <img src="images/restaurent-logo1.jpg">
                <!--<span>Exterier</span>-->
            </div>
            <div class="boks">
                <img src="images/restaurent-logo3.jpg">
                <!--<span>Garden</span>-->
            </div>
            <!--<div class="boks">
                <img src="images/restaurent-logo4.jpg">
                <span>Event</span>
            </div>-->
        </div>
    </div>
    <div class="donji-deo">
        <div class="recenzije-lokacija">
            <div class="recenzije1">
                <div class="recenzije">Comments and ratings</div>
                <div class="komentari">
                    <table class="table">
                        <thead>
                            <th>Rating</th>
                            <th>Date</th>
                            <th>Comment</th>
                        </thead>
                        <tbody>
                            @foreach (var r in @Model.lokal.listaRecenzija)
                            {
                                <tr>
                                    <td>@r.Ocena</td>
                                    <td>@r.Datum.ToString("d/M/yyyy")</td>
                                    <td>@r.Komentar</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <button id="dodajRec">Add comment</button>
                <label id="dodajRecInfo" style="display:none;">The form for adding a review is under Location.</label>
            </div>
            <div class="location1">
                <div class="lokacija">Location</div>
                <div id = "mapa"></div>
            </div>
        </div>
        <div id="FormaRec" style="display:none;" method="post" action="">
            <div class="kontejner">
                <div class="recTekst">
                    <input type="text" id="tekstKom" placeholder="Enter comment..">
                </div>
                <div class="ratingDugme">
                    <select class="selRating" id="selRating">
                        <option value="0">Rating</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                    <div class="dugmiciRez">
                        <button id="potvrdiRec" type="submit">Submit</button>
                        <button id="otkaziRec" type="submit">Discard</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="zadnji-deo">
            <div class="slicniLok">Similar places</div>
            @if(@Model.slicniLokali.Count==0)
            {
                <div class="nemaSlicnih">There are no similar places.</div>
            }
            else if(@Model.slicniLokali.Count==1)
            {
                <div id="slideshow3">
                    <div>
                        <a asp-route-Id="@Model.slicniLokali[0].Id" asp-page="/Object"><img class="slikaSlajdObj" src="@Model.slicniLokali[0].nazivSlike"></a>
                        <div class="adresaObj">Address: @Model.slicniLokali[0].Adresa,@Model.slicniLokali[0].Grad</div>
                    </div>
                </div>
            }
            else{
                <div id="slideshow1">
                    @foreach(var i in @Model.slicniLokali){
                        <div>
                            <a asp-route-Id="@i.Id" asp-page="/Object"><img class="slikaSlajdObj" src="@i.nazivSlike"></a>
                            <div class="adresaObj">Address: @i.Adresa,@i.Grad</div>
                        </div>
                    }
                </div>
            }
        </div>
    </div>
    <div class="contact-section" id="contact">
		<div class="container">
			<div class="contact-section-grids">
				<div class="col-md-3 contact-section-grid wow fadeInLeft" data-wow-delay="0.4s">
					<h4>Categories</h4>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">Taverns</a></li>
					</ul>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">Restaurants</a></li>
					</ul>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">Cafes</a></li>
					</ul>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">Bars</a></li>
					</ul>
				</div>
				<div class="col-md-3 contact-section-grid wow fadeInLeft" data-wow-delay="0.4s">
					<h4>Site Links</h4>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">About Us</a></li>
					</ul>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">Contact Us</a></li>
					</ul>
					<ul>
					    <li><i class="point"></i></li>
						<li class="data"><a href="#">Privacy Policy</a></li>
					</ul>
					<ul>
						<li><i class="point"></i></li>
						<li class="data"><a href="#">Terms of Use</a></li>
					</ul>
				</div>
				<div class="col-md-3 contact-section-grid wow fadeInRight" data-wow-delay="0.4s">
					<h4>Follow Us On...</h4>
					<ul>
						<li><i class="fb"></i></li>
						<li class="data"> <a href="#">  Facebook</a></li>
					</ul>
					<ul>
						<li><i class="tw"></i></li>
						<li class="data"> <a href="#">Twitter</a></li>
					</ul>
					<ul>
						<li><i class="in"></i></li>
						<li class="data"><a href="#"> Linkedin</a></li>
					</ul>
					<ul>
						<li><i class="gp"></i></li>
						<li class="data"><a href="#">Google Plus</a></li>
					</ul>
				</div>
				<div class="col-md-3 contact-section-grid nth-grid wow fadeInRight" data-wow-delay="0.4s">
					<h4>Subscribe Newsletter</h4>
					<p>To get latest updates and food deals every week</p>
					<input type="text" class="text" value="" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '';}">
					<input type="submit" value="submit">
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
</div>

<script src="js/script.js"></script>
<script src="js/kalendar.js"></script>
<script src="js/daysInMonth.js"></script>
<script src="js/freeze.js"></script>
<script src="js/map.js"></script>
<script>
        $(document).ready(function(){
            $("#Prikazi").click(function(){
                $("#Forma").css("display","block");
                $("#Glavni").css("display","block");
                $("#Prikazi1").css("display","none");
                $("#Sakrij").css("display","block");
            });
            $("#Sakrij").click(function(){
                $("#Forma").css("display","none");
                $("#Glavni").css("display","none");
                $("#Prikazi1").css("display","block");
                $("#Sakrij").css("display","none");
            });
            /*$("#dodajRec").click(function(){
                $("#FormaRec").css("display","block");
                $("#dodajRec").css("display","none");
                //$("#dodajRecInfo").css("display","block");
            });*/
            $("#dodajRec").click(function(){
                $("#FormaRec").css("display","block");
                $("#dodajRec").css("display","none");
                //$("#dodajRecInfo").css("display","block");
                //var sirina = $(window).width();
                if($(window).width()<=1002)
                {
                    $("#dodajRecInfo").css("display","block");
                }
                else
                {
                    $("#dodajRecInfo").css("display","none");
                }
            });
            $("#potvrdiRec").click(function(){
                $("#FormaRec").css("display","none");
                $("#dodajRec").css("display","block");
                $("#dodajRecInfo").css("display","none");
            });
            $("#otkaziRec").click(function(){
                $("#FormaRec").css("display","none");
                $("#dodajRec").css("display","block");
                $("#dodajRecInfo").css("display","none");
            });
            
        });
</script>
<script>
    $("#slideshow1 > div:gt(0)").hide();

    setInterval(function() {
        $('#slideshow1 > div:first')
        .fadeOut(1000)
        .next()
        .fadeIn(1000)
        .end()
        .appendTo('#slideshow1');
    }, 6000);
</script>


	